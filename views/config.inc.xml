<?xml version="1.0" encoding="utf-8"?>
<odoo>
        <record id="view_team_tree" model="ir.ui.view">
            <field name="name">itsm.team.tree</field>
            <field name="model">itsm.team</field>
             <field name="arch" type="xml">
                <tree string="All Teams">
                    <field name="team_name" />
                    <field name="agent_id" />
                    <field name="state" />
                </tree>
            </field>
        </record>

        <record id="view_contact_tree" model="ir.ui.view">
            <field name="name">itsm.contact.tree</field>
            <field name="model">itsm.agent</field>
             <field name="arch" type="xml">
                <tree string="All Contcts">
                    <field name="firstname" />
                    <field name="lastname" />
                    <field name="team_id" />
                </tree>
            </field>
        </record>

        <record model="ir.ui.view" id="team_form_view">
            <field name="name">ticket.request.form</field>
            <field name="model">itsm.team</field>
            <field name="arch" type="xml">
                <form string="Create Team" create="false" edit="false">
                    <header>
                    <button name="action_assign_true"  states='false' string="Can Deliver Services" class="btn btn-primary" type="object"/>
                    <button name="action_assign_false" states='true' string="Can Not Deliver Services" class="btn btn-primary" type="object"/>
                    <field name="state" widget="statusbar" statusbar_visible="true,false" invisible="1"/>
                    </header>
                    <sheet>
                        <group>
                            <field name="team_name"/>
                            <field name="state" invisible="1"/>
                        </group>
                        <notebook>
                           <page string = "Members">
                           </page>
                        </notebook>
                    </sheet>
                </form>
            </field>
        </record>

        <record model="ir.ui.view" id="contact_form_view">
            <field name="name">ticket.request.form</field>
            <field name="model">itsm.agent</field>
            <field name="arch" type="xml">
                <form string="Create Contact" create="false" edit="false">
                    <sheet>
                        <group>
                            <field name="firstname" />
                            <field name="lastname" />
                            <field name ="change_cad"/>
                        </group>
                        <group>
                            <field name="team_id" />
                        </group>
                    </sheet>
                </form>
            </field>
        </record>
        
        <record model="ir.ui.view" id="team_search_view">
            <field name="name">itsm.team.search</field>
            <field name="model">itsm.team</field>
            <field name="arch" type="xml">
                <search>
                    <field name="team_name" />
                </search>
            </field>
        </record>

        <record model="ir.ui.view" id="team_search_view">
            <field name="name">itsm.contact.search</field>
            <field name="model">itsm.agent</field>
            <field name="arch" type="xml">
                <search>
                    <field name="firstname"/>
                    <field name="lastname"/>
                    <field name="team_id" />
                </search>
            </field>
        </record>


        <record model="ir.actions.act_window" id="team_list_action">
            <field name="name">Teams</field>
            <field name="res_model">itsm.team</field>
            <field name="view_mode">tree</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">Create new teams</p>
            </field>
        </record>

        <record model="ir.actions.act_window" id="contact_list_action">
            <field name="name">Contacts</field>
            <field name="res_model">itsm.agent</field>
            <field name="view_mode">tree,form</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">Create new teams</p>
            </field>
        </record>


     
        <!-- top level menu: no parent -->
        <menuitem id="main_service_menu" name="ITSM"/>
        <menuitem id="config_menu" name="Configurations" parent="main_service_menu" groups="itsm.service_manager"/>
        <menuitem id="config_team" name="Teams" parent="config_menu" action="team_list_action"/>
        <menuitem id="config_contacts" name="Contacts" parent="config_menu" action="contact_list_action"/>
        
    
</odoo>